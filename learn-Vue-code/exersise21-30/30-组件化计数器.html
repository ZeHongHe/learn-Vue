<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>组件化计数器</title>
	<script src="vue.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <script src="../vue.js"></script>

    <div id="counter">
        <!-- 创建组件实例（类似与 Vue 实例） -->
        <number-counter></number-counter>
        <number-counter></number-counter>
        <number-counter></number-counter>
    </div>

    <template id="number-counter">
        <div>
            <h2>当前计数：{{ number }}</h2>
            <button id="add" @click="numAdd">+</button>
            <button id="reduce" @click="numReduce">-</button>
        </div>
    </template>
	
	<script>
        // 注册组件
        Vue.component("number-counter", {
            template:"#number-counter",
            // data() 返回的是一个对象！ 使得多例情况下，每例互不干扰！
            // 一个组件的 data 选项必须是一个函数，每个实例可以维护一份被返回对象的独立的拷贝
            data() {
                return { number: 0 }
            },
            methods: {
                numAdd() {
					this.number++;
				},
				numReduce() {
					this.number--;
				}
            }
        })

		const app = new Vue({ el: '#counter' });

	</script>
</body>
</html>
